import _JSXStyle from "styled-jsx/style";
import { Button } from '@dhis2-ui/button';
import { Modal, ModalTitle, ModalContent } from '@dhis2-ui/modal';
import propTypes from '@dhis2/prop-types';
import { storiesOf } from '@storybook/react';
import React, { useState } from 'react';
import { MultiSelectOption } from '../index.js';
import { MultiSelect } from './multi-select.js';
window.onChange = window.Cypress && window.Cypress.cy.stub();
window.onFocus = window.Cypress && window.Cypress.cy.stub();
window.onBlur = window.Cypress && window.Cypress.cy.stub();

const CustomMultiSelectOption = ({
  label,
  onClick
}) => /*#__PURE__*/React.createElement("div", {
  onClick: e => onClick({}, e)
}, label);

CustomMultiSelectOption.propTypes = {
  label: propTypes.string,
  onClick: propTypes.func
};
const options = [{
  name: 'Hello',
  id: '1'
}, {
  name: 'world',
  id: '2'
}, {
  name: 'foo',
  id: '3'
}, {
  name: 'bar',
  id: '4'
}];
storiesOf('MultiSelect', module).add('With options', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options and onChange', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  onChange: window.onChange
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With onFocus', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  onFocus: window.onFocus
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With onBlur', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  onBlur: window.onBlur
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With custom options and onChange', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  onChange: window.onChange
}, /*#__PURE__*/React.createElement(CustomMultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(CustomMultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(CustomMultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With invalid options', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement("div", null, "invalid one"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement("div", null, "invalid two"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement("div", null, "invalid three"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), null, undefined, false)).add('With invalid filterable options', () => /*#__PURE__*/React.createElement(MultiSelect, {
  filterable: true,
  className: "select",
  noMatchText: "No match"
}, /*#__PURE__*/React.createElement("div", null, "invalid one"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement("div", null, "invalid two"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement("div", null, "invalid three"), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With initialFocus', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  initialFocus: true
})).add('Empty', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
})).add('Empty with empty text', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  empty: "Custom empty text"
})).add('Empty with empty component', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  empty: /*#__PURE__*/React.createElement("div", {
    className: "custom-empty"
  }, "Custom empty component")
})).add('With options and loading', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  loading: true
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options, loading and loading text', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  loadingText: "Loading options",
  loading: true
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With more than ten options', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "option four"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "5",
  label: "option five"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "6",
  label: "option six"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "7",
  label: "option seven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "8",
  label: "option eight"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "9",
  label: "option nine"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "10",
  label: "option ten"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "11",
  label: "option eleven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "12",
  label: "option twelve"
}))).add('With more than three options and a 100px max-height', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  maxHeight: "100px"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "option four"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "5",
  label: "option five"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "6",
  label: "option six"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "7",
  label: "option seven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "8",
  label: "option eight"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "9",
  label: "option nine"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "10",
  label: "option ten"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "11",
  label: "option eleven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "12",
  label: "option twelve"
}))).add('With options, a selection and disabled', () => /*#__PURE__*/React.createElement(MultiSelect, {
  disabled: true,
  className: "select",
  selected: ['1']
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options and disabled', () => /*#__PURE__*/React.createElement(MultiSelect, {
  disabled: true,
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With prefix', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  prefix: "Prefix text"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With prefix and selection', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  prefix: "Prefix text",
  selected: ['1']
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With placeholder', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  placeholder: "Placeholder text"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With placeholder and selection', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  selected: ['1'],
  placeholder: "Placeholder text"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With disabled option and onChange', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  onChange: window.onChange
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "disabled option",
  disabled: true
}))).add('With options and a selection', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  selected: ['1']
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options, a selection and onChange', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  selected: ['1'],
  onChange: window.onChange
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options and multiple selections', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  selected: ['1', '2']
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With clear button, selection and onChange', () => /*#__PURE__*/React.createElement(MultiSelect, {
  clearable: true,
  clearText: "Clear",
  className: "select",
  selected: ['1'],
  onChange: window.onChange
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With filter field', () => /*#__PURE__*/React.createElement(MultiSelect, {
  filterable: true,
  noMatchText: "No match found",
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('Default position', () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "option four"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "5",
  label: "option five"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "6",
  label: "option six"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "7",
  label: "option seven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "8",
  label: "option eight"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "9",
  label: "option nine"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "10",
  label: "option ten"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "11",
  label: "option eleven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "12",
  label: "option twelve"
})), /*#__PURE__*/React.createElement(_JSXStyle, {
  id: "2721172199"
}, ["#root{height:2000px !important;}"]))).add('Flipped position', () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "option four"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "5",
  label: "option five"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "6",
  label: "option six"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "7",
  label: "option seven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "8",
  label: "option eight"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "9",
  label: "option nine"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "10",
  label: "option ten"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "11",
  label: "option eleven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "12",
  label: "option twelve"
})), /*#__PURE__*/React.createElement(_JSXStyle, {
  id: "3289429748"
}, ["html,body,#root{position:relative;height:500px;max-height:500px;}", "#root{padding-top:400px !important;}"]))).add('Shifted into view', () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select"
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "4",
  label: "option four"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "5",
  label: "option five"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "6",
  label: "option six"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "7",
  label: "option seven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "8",
  label: "option eight"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "9",
  label: "option nine"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "10",
  label: "option ten"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "11",
  label: "option eleven"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "12",
  label: "option twelve"
})), /*#__PURE__*/React.createElement(_JSXStyle, {
  id: "4250794773"
}, ["html,body,#root{position:relative;height:300px !important;max-height:300px;}", "#root{padding-top:130px !important;}"]))).add('With duplicate selected option values', () => /*#__PURE__*/React.createElement(MultiSelect, {
  className: "select",
  selected: ['1']
}, /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "1",
  label: "option one a"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "2",
  label: "option two"
}), /*#__PURE__*/React.createElement(MultiSelectOption, {
  value: "3",
  label: "option three"
}))).add('With options that can be added to the input', () => {
  const [values, setValues] = React.useState([]);
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MultiSelect, {
    className: "select",
    selected: values,
    onChange: ({
      selected
    }) => {
      window.onChange && window.onChange({
        selected
      });
      setValues(selected);
    }
  }, /*#__PURE__*/React.createElement(MultiSelectOption, {
    value: "1",
    label: "option one"
  }), /*#__PURE__*/React.createElement(MultiSelectOption, {
    value: "2",
    label: "option two"
  }), /*#__PURE__*/React.createElement(MultiSelectOption, {
    value: "3",
    label: "option three"
  })), /*#__PURE__*/React.createElement(_JSXStyle, {
    id: "1880313934"
  }, ["#root{height:2000px !important;}"]));
}).add('Menu width changing', () => {
  const [toggle, setToggle] = useState(false);
  return /*#__PURE__*/React.createElement("div", {
    className: "App"
  }, /*#__PURE__*/React.createElement(Modal, {
    dataTest: 'myModal'
  }, /*#__PURE__*/React.createElement(ModalTitle, null, "Modal"), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement("div", {
    style: {
      display: 'flex'
    }
  }, toggle && /*#__PURE__*/React.createElement("div", {
    style: {
      padding: '30px',
      border: '1px solid green'
    },
    className: "toggler"
  }, "Stuff"), /*#__PURE__*/React.createElement("div", {
    style: {
      flexGrow: 1
    }
  }, /*#__PURE__*/React.createElement(MultiSelect, {
    onChange: ({
      selected
    }) => console.log('size changed to ' + selected)
  }, options.map(({
    name,
    id
  }) => /*#__PURE__*/React.createElement(MultiSelectOption, {
    key: id,
    value: id,
    label: name
  })))), toggle && /*#__PURE__*/React.createElement("div", {
    style: {
      padding: '30px',
      border: '1px solid green'
    },
    className: "toggler"
  }, "Stuff")), /*#__PURE__*/React.createElement(Button, {
    onClick: () => setToggle(!toggle)
  }, "Toggle"))));
});